<!-- ğŸ’™ğŸ’› INICIO DEL DOCUMENTO HTML ğŸ’™ğŸ’› -->
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title> Prueba de Asistente UNAM</title>
<link rel="icon" type="image/png" href="school.png">

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    height: 100vh;
    background-image: url('https://www.mexicoescultura.com/galerias/espacios/principal/explanada2.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-color: #6e97f5;
    filter: brightness(1.08) contrast(1.1);
  }

  #assistant-icon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 70px;
    height: 70px;
    cursor: pointer;
    border-radius: 50%;
    background-color: #012169;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }

  #assistant-icon img { width: 50px; height: 50px; }

  #chat-box-container {
    position: fixed;
    bottom: 100px;
    right: 20px;
    width: 380px;
    height: 520px;
    background-color: rgba(255,255,255,0.97);
    border: 3px solid #FFD700;
    border-radius: 15px;
    display: none;
    flex-direction: column;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
    overflow: hidden;
    z-index: 999;
  }

  .chat-header {
    background-color: #012169;
    color: white;
    padding: 10px;
    text-align: center;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }

  .chat-header img { width: 25px; height: 25px; }

  .chat-content {
    flex-grow: 1;
    padding: 10px;
    overflow-y: auto;
  }

  .input-area {
    display: flex;
    border-top: 1px solid #ddd;
  }

  .input-area input {
    flex-grow: 1;
    border: none;
    padding: 10px;
    font-size: 14px;
  }

  .input-area button {
    background-color: #FFD700;
    border: none;
    padding: 10px 15px;
    cursor: pointer;
  }

  .message {
    margin: 5px 0;
    padding: 8px 12px;
    border-radius: 10px;
    max-width: 85%;
  }

  .user {
    background-color: rgba(1,33,105,0.8);
    color: white;
    align-self: flex-end;
  }

  .bot {
    background-color: rgba(224,224,224,0.9);
    align-self: flex-start;
  }

  details {
    background-color: #012169;
    color: white;
    margin: 6px 0;
    border-radius: 8px;
    padding: 6px;
  }

  details summary {
    cursor: pointer;
    font-weight: bold;
    padding: 5px;
  }

  details[open] summary { color: #FFD700; }

  .faq-btn {
    background-color: #f9f9f9;
    color: #012169;
    border: 1px solid #ccc;
    border-radius: 5px;
    padding: 6px;
    margin: 3px 0;
    text-align: left;
    cursor: pointer;
    width: 100%;
  }

  .faq-btn:hover {
    background-color: #FFD700;
    color: #012169;
  }
</style>
</head>
<body>

<!-- ğŸ”¹ ICONO DEL CHATBOT -->
<div id="assistant-icon">
  <img src="chatbot.png" alt="UNAM">
</div>

<!-- ğŸ”¹ CAJA DEL CHAT -->
<div id="chat-box-container">
  <div class="chat-header">
    <img src="escudo.png" alt="Logo UNAM"> 
    Asistente UNAM
  </div>
  <div id="chat-content" class="chat-content"></div>
  <div class="input-area">
    <input type="text" id="user-input" placeholder="Escribe tu mensaje..." />
    <button id="send-btn">Enviar</button>
  </div>
</div>

<script>
  const assistantIcon = document.getElementById('assistant-icon');
  const chatBoxContainer = document.getElementById('chat-box-container');
  const chatContent = document.getElementById('chat-content');
  const userInput = document.getElementById('user-input');
  const sendBtn = document.getElementById('send-btn');
  let firstHello = false;

  assistantIcon.addEventListener('click', () => {
    chatBoxContainer.style.display = chatBoxContainer.style.display === 'flex' ? 'none' : 'flex';
    if (chatContent.innerHTML.trim() === '') {
      typeMessage("ğŸ‘‹ Bienvenido. Escribe 'hola' para comenzar la conversaciÃ³n.");
    }
  });

  sendBtn.addEventListener('click', sendMessage);
  userInput.addEventListener('keypress', e => { if (e.key === 'Enter') sendMessage(); });

  function typeMessage(text, speed = 25) {
    let i = 0;
    const message = document.createElement('div');
    message.classList.add('message', 'bot');
    chatContent.appendChild(message);
    function type() {
      if (i < text.length) {
        message.innerHTML = `<strong>Bot:</strong> ${text.slice(0, i + 1)}`;
        i++;
        chatContent.scrollTop = chatContent.scrollHeight;
        setTimeout(type, speed);
      }
    }
    type();
  }

  function appendMessage(sender, text, cls) {
    const m = document.createElement('div');
    m.classList.add('message', cls);
    m.innerHTML = `<strong>${sender}:</strong> ${text}`;
    chatContent.appendChild(m);
    chatContent.scrollTop = chatContent.scrollHeight;
  }

  function sendMessage() {
    const text = userInput.value.trim();
    if (!text) return;
    appendMessage('TÃº', text, 'user');
    userInput.value = '';
    setTimeout(() => handleBotLogic(text.toLowerCase()), 600);
  }

  function handleBotLogic(input) {
    if (!firstHello && input.includes('hola')) {
      firstHello = true;
      typeMessage("Â¡Hola! ğŸ’› Soy tu asistente virtual de la UNAM.");
      setTimeout(() => {
        typeMessage("ğŸ’¬ Estas son las preguntas frecuentes. Elige una categorÃ­a para consultar las respuestas:");
        showFAQ();
      }, 1500);
      return;
    }

    if (!firstHello) {
      typeMessage("Por favor, escribe 'hola' para iniciar la conversaciÃ³n. ğŸ‘‹");
      return;
    }

    if (input.includes('gracias')) {
      typeMessage("Â¡Con gusto! ğŸ’™ Espero haberte ayudado. ğŸ˜Š");
      return;
    }

    if (input.includes('adiÃ³s') || input.includes('bye')) {
      typeMessage("Â¡Hasta pronto! ğŸ‘‹");
      return;
    }

    typeMessage("No entendÃ­ tu mensaje, pero puedes abrir las categorÃ­as de preguntas frecuentes. ğŸ‘‡");
  }

  const faqSections = [
    { title: "ğŸ” Usuario y ContraseÃ±a", items: [
      ["Â¿QuÃ© usuario y contraseÃ±a debo utilizar para inscribirme al curso?", "Usa tu correo institucional y la contraseÃ±a de la Oficina Virtual."],
      ["Â¿Por quÃ© cuando pongo mi usuario y contraseÃ±a me dice datos errÃ³neos?", "Verifica mayÃºsculas y minÃºsculas. Si el error continÃºa, solicita restablecer tu contraseÃ±a."],
      ["Â¿CuÃ¡l es mi usuario y contraseÃ±a?", "Tu usuario es tu RFC o correo institucional, y la contraseÃ±a es la de tu cuenta de Oficina Virtual."],
      ["Ya puse mi RFC y nÃºmero de empleado y no puedo entrar a la oficina virtual. Â¿Usted me puede dar mi contraseÃ±a?", "Por seguridad no se entregan contraseÃ±as. Usa la opciÃ³n 'OlvidÃ© mi contraseÃ±a'."],
      ["Â¿Por quÃ© cuando me quiero inscribir no veo el curso solo me aparece usuario y contraseÃ±a?", "Debes iniciar sesiÃ³n con tu cuenta institucional para ver el contenido."],
      ["Â¿Por quÃ© la pÃ¡gina de capacitaciÃ³n me aparece en inglÃ©s?", "Ve a configuraciÃ³n de tu navegador y cambia el idioma a EspaÃ±ol (MÃ©xico)."]
    ]},
    { title: "ğŸ§¾ InscripciÃ³n y Acceso a Cursos", items: [
      ["Â¿Por quÃ© no encuentro en la plataforma el curso al que me invitaron?", "Revisa si el curso ya fue publicado. Si no lo ves, puede no estar activo aÃºn. Consulta con tu responsable de capacitaciÃ³n."],
      ["Â¿CÃ³mo me puedo inscribir a un curso?", "Sigue estos pasos:<br>1ï¸âƒ£ Inicia sesiÃ³n en la plataforma.<br>2ï¸âƒ£ Ve a 'Cursos disponibles'.<br>3ï¸âƒ£ Da clic en 'Inscribirme'.<br>4ï¸âƒ£ Espera tu confirmaciÃ³n por correo."],
      ["Â¿Por quÃ© me rechazaron del curso de cÃ³mputo?", "Puede ser por cupo lleno o falta de requisitos. Contacta a la SubdirecciÃ³n de CapacitaciÃ³n para mÃ¡s detalles."],
      ["Al formulario le di enviar respuestas, Â¿cÃ³mo puedo saber si quedÃ© inscrita?", "RecibirÃ¡s confirmaciÃ³n por correo electrÃ³nico en un mÃ¡ximo de 48 horas."],
      ["El curso empezÃ³ hoy, Â¿todavÃ­a me puedo inscribir?", "Depende del tipo de curso; algunos aceptan inscripciones dentro de las primeras 24 horas."],
      ["Me inscribÃ­ al cursoâ€¦ Â¿por quÃ© no me ha llegado la confirmaciÃ³n?", "Espera hasta 48 horas hÃ¡biles. Si no llega, revisa la carpeta de spam."],
      ["No encuentro el curso en el que estoy inscrita, Â¿cÃ³mo entro?", "Ve a 'Mis cursos' en la plataforma. Si no aparece, actualiza la pÃ¡gina o cambia de navegador."],
      ["Â¿Por quÃ© no puedo inscribirme en la plataforma?", "Verifica que no hayas alcanzado el lÃ­mite de 6 cursos por aÃ±o o contacta soporte tÃ©cnico."]
    ]},
    { title: "ğŸ§  Contenido o RepeticiÃ³n de Cursos", items: [
      ["Ya tomÃ© el curso de Relaciones Laborales en el 2016, Â¿es necesario volverlo a tomar?", "Solo si la versiÃ³n actual tiene contenido actualizado o tu Ã¡rea lo solicita."],
      ["El curso tal..., Â¿tiene cambios sustanciales que valga la pena volverlo a tomar?", "Revisa el temario del curso actual; si cambiÃ³ el contenido o enfoque, se recomienda repetirlo."],
      ["Â¿CuÃ¡ntos cursos puedo tomar en el aÃ±o?", "El mÃ¡ximo permitido es de 6 cursos por aÃ±o calendario."],
      ["Â¿CuÃ¡ntos cursos puedo tomar al mismo tiempo?", "Hasta 2 cursos simultÃ¡neamente, siempre que los horarios no se crucen."],
      ["Â¿CuÃ¡ntas veces puedo tomar el mismo curso?", "Puedes repetirlo si cambiÃ³ la versiÃ³n o el contenido."],
      ["No soy personal de la UNAM, Â¿puedo tomar cursos de cÃ³mputo?", "No, los cursos estÃ¡n dirigidos al personal UNAM activo."],
      ["Soy hijo de una trabajadora, Â¿cÃ³mo me puedo inscribir a sus cursos?", "Los cursos son exclusivos para trabajadores activos o con permiso de capacitaciÃ³n."],
      ["Â¿Los cursos de cÃ³mputo tienen costo?", "No, todos los cursos son gratuitos para personal UNAM."],
      ["Si soy de nuevo ingreso, Â¿puedo tomar el taller de RedacciÃ³n BÃ¡sica?", "SÃ­, estÃ¡ disponible para personal nuevo."]
    ]},
    { title: "ğŸ•“ Fechas, ProgramaciÃ³n y Modalidad", items: [
      ["Â¿TodavÃ­a estÃ¡ programado para la misma fecha el curso tal?", "Verifica la fecha directamente en la plataforma o el correo institucional; las circulares pueden cambiar."],
      ["Â¿Por quÃ© en la circular DGPe/035/2023 dice una fecha y en la plataforma otra?", "La fecha mÃ¡s reciente es la que aparece en la plataforma, ya que ahÃ­ se reflejan los cambios."],
      ["Â¿QuÃ© instructor va a impartir el curso?", "El nombre aparece en la descripciÃ³n del curso o en el correo de confirmaciÃ³n."],
      ["Â¿TodavÃ­a no hay cursos presenciales?", "Por ahora la mayorÃ­a son virtuales; los presenciales se anunciarÃ¡n prÃ³ximamente."],
      ["Â¿Puedo hacer la evaluaciÃ³n de cÃ³mputo ahorita?", "Solo dentro de las fechas de aplicaciÃ³n indicadas en la plataforma."],
      ["Â¿CuÃ¡ndo es la evaluaciÃ³n de inglÃ©s y cÃ³mputo?", "Consulta las fechas en el calendario oficial del portal de capacitaciÃ³n."],
      ["Ayer no pude entrar al curso, Â¿por quÃ© ya no me deja hacer la evaluaciÃ³n?", "El sistema bloquea el acceso fuera de las fechas asignadas. Contacta al administrador."],
      ["Hoy no pude hacer el curso Bienvenida a la UNAM, Â¿lo puedo hacer maÃ±ana?", "SÃ­, siempre y cuando siga activo en la plataforma."]
    ]},
    { title: "ğŸ’¬ Zoom y Asistencia", items: [
      ["Â¿Por quÃ© no he recibido la liga para entrar a la reuniÃ³n de Zoom?", "Se envÃ­a 24 horas antes del inicio. Si no la recibes, revisa spam o contacta soporte."],
      ["Â¿SÃ­ va a haber reuniÃ³n Zoom?", "SÃ­, si el curso lo indica. La liga aparecerÃ¡ en el mÃ³dulo correspondiente."],
      ["Â¿En quÃ© parte del curso estÃ¡ el link para entrar al Zoom?", "Dentro del mÃ³dulo 'Sesiones en vivo' o en los anuncios del curso."],
      ["Â¿CÃ³mo registro mi asistencia del curso por Zoom?", "Ingresa a la sesiÃ³n con tu nombre completo y el correo con el que te inscribiste."]
    ]},
    { title: "ğŸ“œ Constancias y Evaluaciones", items: [
      ["Â¿CuÃ¡nto saquÃ© en el curso? No puedo ver la calificaciÃ³n.", "Las calificaciones aparecen al finalizar el curso en la secciÃ³n 'Historial de cursos'."],
      ["Â¿CÃ³mo puedo saber si aprobÃ© el curso?", "Al finalizar, tu calificaciÃ³n aparecerÃ¡ como 'Aprobado' en tu historial."],
      ["TomÃ© el curso, Â¿cuÃ¡nto tardan en darme la constancia?", "En promedio de 5 a 10 dÃ­as hÃ¡biles despuÃ©s de concluir el curso."],
      ["Â¿En dÃ³nde encuentro mi constancia?", "En la Oficina Virtual, secciÃ³n 'Constancias'."],
      ["Â¿Por quÃ© no puedo descargar mis constancias?", "Verifica que tu navegador permita descargas y desactiva bloqueadores de ventanas emergentes."]
    ]},
    { title: "ğŸ¢ Oficina Virtual y DGPE", items: [
      ["Â¿CÃ³mo entro a la oficina virtual?", "Entra a https://oficinavirtual.unam.mx e inicia sesiÃ³n con tus datos institucionales."],
      ["Â¿En quÃ© parte de la oficina virtual estÃ¡n las constancias?", "Dentro de 'Historial de cursos' selecciona 'Descargar constancia'."],
      ["Estoy en la pÃ¡gina de la DGPE, Â¿en quÃ© parte puedo ver el programa de capacitaciÃ³n?", "En el menÃº principal selecciona 'Programas' y luego 'CapacitaciÃ³n vigente'."]
    ]},
    { title: "ğŸ“¨ TrÃ¡mites Administrativos", items: [
      ["Â¿En dÃ³nde estÃ¡n ubicados?, para enviar correspondencia.", "DirecciÃ³n: Av. Universidad 3000, C.U., AlcaldÃ­a CoyoacÃ¡n, CDMX, C.P. 04510."],
      ["Â¿CuÃ¡l es la extensiÃ³n de tal Ã¡rea?", "ComunÃ­cate al conmutador UNAM 5622 1700 y pide la extensiÃ³n de la SubdirecciÃ³n de CapacitaciÃ³n."],
      ["Â¿Es necesario enviar en fÃ­sico el oficio de autorizaciÃ³n?", "No, basta con enviarlo escaneado al correo institucional del Ã¡rea correspondiente."],
      ["Â¿Mi jefe debe mandar un oficio autorizando mi participaciÃ³n?", "SÃ­, el oficio firmado es necesario para formalizar la inscripciÃ³n."],
      ["Â¿Si entro a la plataforma, puedo inscribir a mi jefe?", "No, cada participante debe realizar su propio registro con sus datos personales."]
    ]}
  ];

  function showFAQ() {
    faqSections.forEach(sec => {
      const det = document.createElement('details');
      const sum = document.createElement('summary');
      sum.textContent = sec.title;
      det.appendChild(sum);
      sec.items.forEach(([q,a]) => {
        const b = document.createElement('button');
        b.classList.add('faq-btn');
        b.textContent = q;
        b.onclick = () => {
          appendMessage("TÃº", q, "user");
          typeMessage(a);
        };
        det.appendChild(b);
      });
      chatContent.appendChild(det);
    });
    chatContent.scrollTop = chatContent.scrollHeight;
  }
</script>
</body>
</html>
<!-- ğŸ’™ğŸ’› FIN DEL DOCUMENTO HTML ğŸ’™ğŸ’› -->
